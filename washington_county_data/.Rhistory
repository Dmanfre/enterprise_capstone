Sys.setenv(CENSUS_API_KEY = "5cb2b9c628a1d1329c5bf4d36fe4435c6501efc8", overwrite = TRUE)
ACS <- load_variables(2020, "acs5")
#What is the difference between the ACS and the ACS5?
ACS5 <- load_variables(2020, "acs5")
ACS <- load_variables(2020, "acs")
knitr::opts_chunk$set(echo = TRUE)
#libraries
library(tidyverse)
library(tidycensus)
library(janitor)
library(lubridate)
rm(list = "baker_contribs", "baker_expenses", "new_gop_expenses", "pa_dem_contribs", "pa_dem_expenses", "pa_gop_contribs", "pa_gop_expesnes", "wbb_rosters")
rm(list = "ACS_5", "htown_2015", "htown_2019", "medi_14", "pa_gop_expenses")
rm(list = "hppop_15")
Sys.setenv(CENSUS_API_KEY = "5cb2b9c628a1d1329c5bf4d36fe4435c6501efc8", overwrite = TRUE)
ACS_5 <- load_variables(2020, "acs5")
#What is the difference between the ACS and the ACS5?
# is using acs 5'
#when writing this make it say that these numbers are based on five-year rolling averages...
#Median household income data
#This data is for Hagerstown
htown_2015 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2015) %>%
filter(NAME == "Hagerstown city, Maryland") %>%
mutate(year = 2015)
htown_2016 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2016) %>%
filter(NAME == "Hagerstown city, Maryland") %>%
mutate(year = 2016)
htown_2017 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2017) %>%
filter(NAME == "Hagerstown city, Maryland") %>%
mutate(year = 2017)
htown_2018 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2018) %>%
filter(NAME == "Hagerstown city, Maryland") %>%
mutate(year = 2018)
htown_2019 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2019) %>%
filter(NAME == "Hagerstown city, Maryland") %>%
mutate(year = 2019)
htown_2020 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2020) %>%
filter(NAME == "Hagerstown city, Maryland") %>%
mutate(year = 2020)
htown_2021 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2021) %>%
filter(NAME == "Hagerstown city, Maryland") %>%
mutate(year = 2021)
View(htown_2021)
#binding the rows together
#hagerstown
htown_medi_house_income <-  bind_rows(htown_2015, htown_2016, htown_2017, htown_2018, htown_2019, htown_2020, htown_2021)
View(htown_medi_house_income)
ACS_5 <- load_variables(2020, "acs5")
#What is the difference between the ACS and the ACS5?
View(ACS_5)
#This median household income data is for frederick
fred_2015 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2015) %>%
filter(NAME == "Frederick city, Maryland") %>%
mutate(year = 2015)
fred_2016 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2016) %>%
filter(NAME == "Frederick city, Maryland") %>%
mutate(year = 2016)
fred_2017 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2017) %>%
filter(NAME == "Frederick city, Maryland") %>%
mutate(year = 2017)
fred_2018 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2018) %>%
filter(NAME == "Frederick city, Maryland") %>%
mutate(year = 2018)
fred_2019 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2019) %>%
filter(NAME == "Frederick city, Maryland") %>%
mutate(year = 2019)
fred_2020 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2020) %>%
filter(NAME == "Frederick city, Maryland") %>%
mutate(year = 2020)
fred_2021 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2021) %>%
filter(NAME == "Frederick city, Maryland") %>%
mutate(year = 2021)
#binding the rows together
#hagerstown
htown_medi_house_income <-  bind_rows(htown_2015, htown_2016, htown_2017, htown_2018, htown_2019, htown_2020, htown_2021)
#Frederick
fred_medi_house_income <- bind_rows(fred_2015, fred_2016, fred_2017, fred_2018, fred_2019, fred_2020, fred_2021)
View(htown_2015)
# is using acs 5'
#when writing this make it say that these numbers are based on five-year rolling averages...
#Median household income data
#This data is for Hagerstown
h_income_2015 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2015) %>%
filter(NAME == "Hagerstown city, Maryland") %>%
mutate(year = 2015)
h_income_2016 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2016) %>%
filter(NAME == "Hagerstown city, Maryland") %>%
mutate(year = 2016)
h_income_2017 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2017) %>%
filter(NAME == "Hagerstown city, Maryland") %>%
mutate(year = 2017)
h_income_2018 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2018) %>%
filter(NAME == "Hagerstown city, Maryland") %>%
mutate(year = 2018)
h_income_2019 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2019) %>%
filter(NAME == "Hagerstown city, Maryland") %>%
mutate(year = 2019)
h_income_2020 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2020) %>%
filter(NAME == "Hagerstown city, Maryland") %>%
mutate(year = 2020)
h_income_2021 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2021) %>%
filter(NAME == "Hagerstown city, Maryland") %>%
mutate(year = 2021)
h_income_2015 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2015
get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2015) %>%
filter(NAME == "Hagerstown city, Maryland") %>%
mutate(year = 2015)
get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2015) %>%
#filter(NAME == "Hagerstown city, Maryland") %>%
mutate(year = 2015)
md_cities <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD")
View(md_cities)
# is using acs 5'
#when writing this make it say that these numbers are based on five-year rolling averages...
#MEDIAN HOUSEHOLD INCOME
#This data is for Hagerstown - will probably wind up using 2021
get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2015) %>%
#filter(NAME == "Hagerstown city, Maryland") %>%
mutate(year = 2015)
h_income_2016 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2016) %>%
filter(NAME == "Hagerstown city, Maryland") %>%
mutate(year = 2016)
h_income_2017 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2017) %>%
filter(NAME == "Hagerstown city, Maryland") %>%
mutate(year = 2017)
h_income_2018 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2018) %>%
filter(NAME == "Hagerstown city, Maryland") %>%
mutate(year = 2018)
h_income_2019 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2019) %>%
filter(NAME == "Hagerstown city, Maryland") %>%
mutate(year = 2019)
h_income_2020 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2020) %>%
filter(NAME == "Hagerstown city, Maryland") %>%
mutate(year = 2020)
h_income_2021 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2021) %>%
filter(NAME == "Hagerstown city, Maryland") %>%
mutate(year = 2021)
#This median household income data is for Frederick
#We would like 1990 because that's when the ballpark opened; how do we do this?
f_income_2015 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2015) %>%
filter(NAME == "Frederick city, Maryland") %>%
mutate(year = 2015)
f_income_2016 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2016) %>%
filter(NAME == "Frederick city, Maryland") %>%
mutate(year = 2016)
f_income_2017 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2017) %>%
filter(NAME == "Frederick city, Maryland") %>%
mutate(year = 2017)
f_income_2018 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2018) %>%
filter(NAME == "Frederick city, Maryland") %>%
mutate(year = 2018)
f_income_2019 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2019) %>%
filter(NAME == "Frederick city, Maryland") %>%
mutate(year = 2019)
f_income_2020 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2020) %>%
filter(NAME == "Frederick city, Maryland") %>%
mutate(year = 2020)
f_income_2021 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2021) %>%
filter(NAME == "Frederick city, Maryland") %>%
mutate(year = 2021)
#binding the rows together
h_income <-  bind_rows(htown_2015, h_income_2016, h_income_2017, h_income_2018, h_income_2019, h_income_2020, h_income_2021)
#binding the rows together
h_income <-  bind_rows(h_income_2015, h_income_2016, h_income_2017, h_income_2018, h_income_2019, h_income_2020, h_income_2021)
View(h_income)
f_income <- bind_rows(f_income_2015, f_income_2016, f_income_2017, f_income_2018, f_income_2019, f_income_2020, f_income_2021)
View(f_income)
#Waldorf
w_income_2021 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2021) %>%
filter(NAME == "Waldorf CDP, Maryland") %>%
mutate(year = 2021)
View(w_income_2021)
#Waldorf - need 2008 + 2021
w_income_2008 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2008) %>%
filter(NAME == "Waldorf CDP, Maryland") %>%
mutate(year = 2008)
#Bowie - need 1994 + 2021
b_income_2021 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2021) %>%
filter(NAME == "Bowie city, Maryland") %>%
mutate(year = 2021)
View(b_income_2021)
#Salisbury - need 1996 + 2021
s_income_2021 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2021) %>%
filter(NAME == "Salisbury city, Maryland") %>%
mutate(year = 2021)
View(s_income_2021)
#Baltimore - need 1992 + 2021
b_income_2021 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2021) %>%
filter(NAME == "Baltimore city, Maryland") %>%
mutate(year = 2021)
View(b_income_2021)
#Aberdeen - need 2002 + 2021
a_income_2021 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2021) %>%
filter(NAME == "Aberdeen city, Maryland, Maryland") %>%
mutate(year = 2021)
View(a_income_2021)
#Aberdeen - need 2002 + 2021
a_income_2021 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2021) %>%
filter(NAME == "Aberdeen city, Maryland") %>%
mutate(year = 2021)
#Bowie - need 1994 + 2021
bo_income_2021 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2021) %>%
filter(NAME == "Bowie city, Maryland") %>%
mutate(year = 2021)
#Baltimore - need 1992 + 2021
ba_income_2021 <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD",
year = 2021) %>%
filter(NAME == "Baltimore city, Maryland") %>%
mutate(year = 2021)
#Combine all 2021 income
all_income <-  bind_rows(a_income_2021, ba_income_2021, bo_income_2021, f_income_2021, h_income_2021, s_income_2021, w_income_2021)
View(all_income)
all_income <-  bind_rows(a_income_2021, ba_income_2021, bo_income_2021, f_income_2021, h_income_2021, s_income_2021, w_income_2021) %>%
clean_names()
#Combine all 2021 income
all_income <-  bind_rows(a_income_2021, ba_income_2021, bo_income_2021, f_income_2021, h_income_2021, s_income_2021, w_income_2021) %>%
clean_names() %>%
select(variable, name, estimate)
#Combine all 2021 income
all_income_2021 <-  bind_rows(a_income_2021, ba_income_2021, bo_income_2021, f_income_2021, h_income_2021, s_income_2021, w_income_2021) %>%
clean_names() %>%
select(variable, name, estimate)
View(a_income_2021)
View(all_income_2021)
all_income_2021 <-  bind_rows(a_income_2021, ba_income_2021, bo_income_2021, f_income_2021, h_income_2021, s_income_2021, w_income_2021) %>%
clean_names()
#Combine all 2021 income
all_income_2021 <-  bind_rows(a_income_2021, ba_income_2021, bo_income_2021, f_income_2021, h_income_2021, s_income_2021, w_income_2021) %>%
clean_names() %>%
select(variable, year, name, estimate)
#Reference tables
#Load ACS crosswalk
ACS_5 <- load_variables(2020, "acs5")
#What is the difference between the ACS and the ACS5?
# List of MD cities
md_cities <- get_acs(geography = "place",
variables = c(medi_house_income = "B19013_001"),
state = "MD")
View(ACS_5)
#Hagerstown
h_pop_2021 <- get_acs(geography = "place",
variables = c(population = "B01003_001"),
state = "MD",
year = 2021) %>%
filter(NAME == "Hagerstown city, Maryland") %>%
mutate(year = 2021)
View(h_pop_2021)
#Frederick
f_pop_2021 <- get_acs(geography = "place",
variables = c(medi_house_income = "B01003_001"),
state = "MD",
year = 2021) %>%
filter(NAME == "Frederick city, Maryland") %>%
mutate(year = 2021)
View(h_pop_2021)
View(f_pop_2021)
View(f_income_2021)
#Waldorf
w_pop_2021 <- get_acs(geography = "place",
variables = c(medi_house_income = "B01003_001"),
state = "MD",
year = 2021) %>%
filter(NAME == "Waldorf CDP, Maryland") %>%
mutate(year = 2021)
View(w_pop_2021)
View(w_income_2021)
#Bowie
bo_pop_2021 <- get_acs(geography = "place",
variables = c(medi_house_income = "B01003_001"),
state = "MD",
year = 2021) %>%
filter(NAME == "Bowie city, Maryland") %>%
mutate(year = 2021)
#Salisbury
s_pop_2021 <- get_acs(geography = "place",
variables = c(medi_house_income = "B01003_001"),
state = "MD",
year = 2021) %>%
filter(NAME == "Salisbury city, Maryland") %>%
mutate(year = 2021)
#Baltimore
ba_pop_2021 <- get_acs(geography = "place",
variables = c(medi_house_income = "B01003_001"),
state = "MD",
year = 2021) %>%
filter(NAME == "Baltimore city, Maryland") %>%
mutate(year = 2021)
#Aberdeen
a_pop_2021 <- get_acs(geography = "place",
variables = c(medi_house_income = "B01003_001"),
state = "MD",
year = 2021) %>%
filter(NAME == "Aberdeen city, Maryland") %>%
mutate(year = 2021)
#Combine all 2021 income
all_pop_2021 <-  bind_rows(a_pop_2021, ba_pop_2021, bo_pop_2021, f_pop_2021, h_pop_2021, s_pop_2021, w_pop_2021) %>%
clean_names() %>%
select(variable, year, name, estimate)
View(all_pop_2021)
View(ACS_5)
get_acs(geography = "place",
variables = c(poverty_status = "B17001_001"),
state = "MD",
year = 2021) %>%
filter(NAME == "Hagerstown city, Maryland") %>%
mutate(year = 2021)
B25075_003 == label == Estimate!!Total:!!$10,000 to $14,999
get_acs(geography = "place",
variables = c(total_home_value = "B25075_003"),
state = "MD",
year = 2021) %>%
filter(NAME == "Hagerstown city, Maryland") %>%
mutate(year = 2021)
View(ACS_5)
## USING THIS SECTION TO GET HOUSING VALUES
#B25077_001 == label == Estimate!!Median value (dollars)
#Hagerstown
h_homeval_2021 <- get_acs(geography = "place",
variables = c(medi_home_value = "B25077_001"),
state = "MD",
year = 2021) %>%
filter(NAME == "Hagerstown city, Maryland") %>%
mutate(year = 2021)
#Frederick
f_homeval_2021 <- get_acs(geography = "place",
variables = c(medi_home_value = "B25077_001"),
state = "MD",
year = 2021) %>%
filter(NAME == "Frederick city, Maryland") %>%
mutate(year = 2021)
#Waldorf
w_homeval_2021 <- get_acs(geography = "place",
variables = c(medi_home_value = "B25077_001"),
state = "MD",
year = 2021) %>%
filter(NAME == "Waldorf CDP, Maryland") %>%
mutate(year = 2021)
#Bowie
bo_homeval_2021 <- get_acs(geography = "place",
variables = c(medi_home_value = "B25077_001"),
state = "MD",
year = 2021) %>%
filter(NAME == "Bowie city, Maryland") %>%
mutate(year = 2021)
#Salisbury
s_homeval_2021 <- get_acs(geography = "place",
variables = c(medi_home_value = "B25077_001"),
state = "MD",
year = 2021) %>%
filter(NAME == "Salisbury city, Maryland") %>%
mutate(year = 2021)
#Baltimore
b_homeval_2021 <- get_acs(geography = "place",
variables = c(medi_home_value = "B25077_001"),
state = "MD",
year = 2021) %>%
filter(NAME == "Baltimore city, Maryland") %>%
mutate(year = 2021)
#Aberdeen
a_homeval_2021 <- get_acs(geography = "place",
variables = c(medi_home_value = "B25077_001"),
state = "MD",
year = 2021) %>%
filter(NAME == "Aberdeen city, Maryland") %>%
mutate(year = 2021)
#Combine all 2021 income
all_homeval_2021 <-  bind_rows(h_homeval_2021, f_homeval_2021, w_homeval_2021, bo_homeval_2021, s_homeval_2021, b_homeval_2021, a_homeval_2021) %>%
clean_names() %>%
select(variable, year, name, estimate)
View(all_homeval_2021)
